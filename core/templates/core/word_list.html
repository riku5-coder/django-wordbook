{% extends "core/base.html" %}

{% block title %}ユーザーの英単語リスト{% endblock %}

{% block content %}

<h1 class="title">登録した単語一覧</h1>
{% if is_public %}
  <div class="notification is-info is-light">
    ログインしていないため、すべてのユーザーが登録した単語を表示しています。
    単語を登録・編集するにはログインしてください。
  </div>
{% endif %}

<div class="box">
  <div class="buttons">
    <a class="button is-small {% if period == 'today' %}is-link{% endif %}"
       href="{% url 'word_list' %}?period=today">
      今日
    </a>

    <a class="button is-small {% if period == 'week' %}is-link{% endif %}"
       href="{% url 'word_list' %}?period=week">
      直近7日
    </a>

    <a class="button is-small {% if period == 'month' %}is-link{% endif %}"
       href="{% url 'word_list' %}?period=month">
      直近30日
    </a>

    <a class="button is-small {% if not period %}is-link{% endif %}"
       href="{% url 'word_list' %}">
      すべて
    </a>
  </div>
</div>

<div class="box">
  <table class="table is-fullwidth is-striped">
    <thead>
      <tr>
        <th>単語</th>
        <th>意味</th>
        <th>登録日</th>
      </tr>
    </thead>

    <tbody>
      {% for w in words %}
      <tr>
        <td>
          <strong>{{ w.word }}</strong>
          {% if not is_public %}
          <br>
          <a href="{% url 'word_edit' w.pk %}" class="is-size-7">
          編集
          </a>
  {% endif %}
        </td>

        <td>
          {{ w.meaning|linebreaksbr|truncatechars:80 }}
        </td>

        <td>
          {{ w.created_at|date:"Y-m-d" }}
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="3">
          まだ単語が登録されていません。
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
